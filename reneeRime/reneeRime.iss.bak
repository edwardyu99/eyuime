; Script generated by the Inno Script Studio Wizard.
; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!

#define MyAppName "余氏中文輸入法 (小狼毫版)"
#define MyAppVersion "64bits windows 10 (RIME小狼毫版)"
#define MyAppPublisher "Edward Yu"
#define MyAppURL "https://sites.google.com/site/eykmime/eywin98"
#define MyAppExeName "MyProg.exe"

[Setup]
; NOTE: The value of AppId uniquely identifies this application.
; Do not use the same AppId value in installers for other applications.
; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)
AppId={{84927019-5C31-4A37-9B2E-E35A6C111950}
AppName={#MyAppName}
AppVersion={#MyAppVersion}
;AppVerName={#MyAppName} {#MyAppVersion}
AppPublisher={#MyAppPublisher}
AppPublisherURL={#MyAppURL}
AppSupportURL={#MyAppURL}
AppUpdatesURL={#MyAppURL}
DefaultDirName={%APPDATA}\Rime
CreateAppDir=yes 
; no
OutputBaseFilename=setupReneeRime
Compression=lzma
SolidCompression=yes
AlwaysRestart=yes
ArchitecturesInstallIn64BitMode=x64
ArchitecturesAllowed=x64
UninstallRestartComputer=yes

[Languages]
Name: "english"; MessagesFile: "compiler:Default.isl"

[Files]
; https://rime.im/download/ 
Source: "weasel-0.14.3.0-installer.exe"; DestDir: "{app}"; Flags: ignoreversion
Source: "inuse.exe"; DestDir: "{app}"; Flags: ignoreversion
Source: "reneecopyrime.bat"; DestDir: "{app}"; Flags: ignoreversion
Source: "default.custom.yaml"; DestDir: "{app}"; Flags: ignoreversion
Source: "reneeRime.iss"; DestDir: "{app}"; Flags: ignoreversion
Source: "renee.prism.bin"; DestDir: "{app}"; Flags: ignoreversion
Source: "renee.reverse.bin"; DestDir: "{app}"; Flags: ignoreversion
Source: "renee.schema.yaml"; DestDir: "{app}"; Flags: ignoreversion
Source: "renee.table.bin"; DestDir: "{app}"; Flags: ignoreversion
Source: "reneeRimeDeploy.bat"; DestDir: "{app}"; Flags: ignoreversion
Source: "Trime-20200909.apk"; DestDir: "{app}"; Flags: ignoreversion
; NOTE: Don't use "Flags: ignoreversion" on any shared system files
[Registry]
Root: HKCU; Subkey: "Software\Microsoft\Windows\CurrentVersion\RunOnce"; \
    ValueType: string; ValueName: "MyProg"; ValueData: """{app}\reneeRimeDeploy.bat"""

[Run]
Filename: "{app}\reneecopyrime.bat"
[UninstallRun]
Filename: "{app}\reneeremoverime.bat"
